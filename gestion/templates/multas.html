{% extends "index.html" %}

{% block contenido %}
<div class="multas-container">
    <div class="header">
        <h2>Multas</h2>
    </div>

    {% if multas %}
    <div class="multas-lista">
        {% for multa in multas %}
        <div class="multa-card {% if multa.pagada %}pagada{% endif %}">
            <div class="multa-info">
                <h3>{{ multa.prestamo }}</h3>
                <div class="detalles">
                    <span class="tipo tipo-{{ multa.tipo }}">
                        {% if multa.tipo == 'r' %}Retraso
                        {% elif multa.tipo == 'p' %}Pérdida
                        {% elif multa.tipo == 'd' %}Deterioro
                        {% endif %}
                    </span>
                    <span class="fecha">{{ multa.fecha }}</span>
                </div>
            </div>
            <div class="multa-estado">
                <div class="monto">${{ multa.monto }}</div>
                <div class="estado">
                    {% if multa.pagada %}
                        <span class="badge pagada">✓ Pagada</span>
                    {% else %}
                        <span class="badge pendiente">Pendiente</span>
                    {% endif %}
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="empty-state">
        <p>No hay multas registradas</p>
    </div>
    {% endif %}
</div>

<style>
    .multas-container {
        max-width: 900px;
        margin: 2rem auto;
        padding: 0 1rem;
    }

    .header {
        margin-bottom: 1.5rem;
    }

    .header h2 {
        margin: 0;
        color: #333;
    }

    .multas-lista {
        display: flex;
        flex-direction: column;
        gap: 1rem;
    }

    .multa-card {
        background: white;
        border: 1px solid #e1e8ed;
        border-left: 4px solid #dc3545;
        border-radius: 8px;
        padding: 1.25rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
        transition: box-shadow 0.3s;
    }

    .multa-card.pagada {
        border-left-color: #28a745;
        opacity: 0.7;
    }

    .multa-card:hover {
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .multa-info {
        flex: 1;
    }

    .multa-info h3 {
        margin: 0 0 0.5rem 0;
        color: #333;
        font-size: 1.05rem;
    }

    .detalles {
        display: flex;
        gap: 1rem;
        flex-wrap: wrap;
    }

    .tipo {
        padding: 0.25rem 0.75rem;
        border-radius: 4px;
        font-size: 0.85rem;
        font-weight: 500;
    }

    .tipo-r {
        background: #fff3cd;
        color: #856404;
    }

    .tipo-p {
        background: #f8d7da;
        color: #721c24;
    }

    .tipo-d {
        background: #d1ecf1;
        color: #0c5460;
    }

    .fecha {
        color: #666;
        font-size: 0.9rem;
    }

    .multa-estado {
        text-align: right;
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
        align-items: flex-end;
    }

    .monto {
        font-size: 1.5rem;
        font-weight: 600;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    .badge {
        padding: 0.35rem 0.75rem;
        border-radius: 6px;
        font-size: 0.85rem;
        font-weight: 500;
    }

    .badge.pagada {
        background: #d4edda;
        color: #155724;
    }

    .badge.pendiente {
        background: #f8d7da;
        color: #721c24;
    }

    .empty-state {
        text-align: center;
        padding: 3rem;
        background: white;
        border-radius: 8px;
        border: 1px solid #e1e8ed;
    }

    .empty-state p {
        color: #666;
        margin: 0;
    }

    @media (max-width: 600px) {
        .multa-card {
            flex-direction: column;
            align-items: stretch;
            gap: 1rem;
        }

        .multa-estado {
            align-items: stretch;
        }

        .monto {
            text-align: left;
        }

        .badge {
            text-align: center;
        }
    }
</style>
{% endblock %}